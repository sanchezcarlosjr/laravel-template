extend type Query {
    network(id: ID @eq): Network @find
    networks(
        filter: [String],
        terms: [String],
        orderBy: String @orderBy(columns: ["created_at"])
    ): [Network] @paginate(defaultCount: 100)
}

extend type Mutation {
    destroyNetwork(data: destroyNetworkInput! @spread): Network @guard
    createNetwork(
        data: createNetworkInput
        @spread
    ): Network @guard
    updateNetwork(
        data: updateNetworkInput
        @spread
    ): Network @guard
}

type Network {
    id: ID!
    active: Boolean
    name: String @rename(attribute: "nombre")
    type: String @rename(attribute: "tipo")
    class: String @rename(attribute: "clase")
    start_date: Date @rename(attribute: "fecha_inicio")
    range: String @rename(attribute: "rango")
    formation_url: String @rename(attribute: "url_convenio")
    finish_date: Date @rename(attribute: "fecha_fin")
    academic_body_id: Int @rename(attribute: "cuerpos_academico_id")
    leader: CollaboratorNetwork
    collaborators: [CollaboratorNetwork]
    academic_body: AcademicBody @belongsTo(relation: "academic_body")
}

type CollaboratorNetwork {
    id: ID
    name: String
    type: String
    network: Network
    is_leader: Boolean
}

input CollaboratorNetworkInput {
    id: ID
    name: String
    type: String
    is_leader: Boolean
}

input createNetworkInput {
    name: String
    type: String
    class: String
    start_date: Date
    range: String
    finish_date: Date
    formation: [Upload]
    collaborators: [CollaboratorNetworkInput]
    academic_body_id: Int
}

input updateNetworkInput {
    id: ID!
    name: String
    type: String
    class: String
    start_date: Date
    range: String
    formation: [Upload]
    #collaborators: [Collaborator]
    formation_url: String
    finish_date: Date
    academic_body_id: Int
}

input destroyNetworkInput {
    id: ID!
}
